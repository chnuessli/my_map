
/* ===========================
   Leaflet Controls – Modern, rund, konsistent
   =========================== */

/* Variablen für Controls (kannst du oben zu :root ziehen, wenn du magst) */
:root {
  --ctl-radius: 12px;
  --ctl-size: 38px;          /* Button-Kantenlänge */
  --ctl-bg: rgba(255,255,255,.92);
  --ctl-border: var(--border);
  --ctl-shadow: 0 2px 10px rgba(0,0,0,.12);
  --ctl-hover: var(--accent);
}
@media (prefers-color-scheme: dark) {
  :root {
    --ctl-bg: rgba(22,22,22,.9);
    --ctl-shadow: 0 4px 16px rgba(0,0,0,.5);
  }
}

/* Gemeinsame Basis für alle Controls */
#map .leaflet-control {
  background: var(--ctl-bg);
  border: 1px solid var(--ctl-border);
  border-radius: var(--ctl-radius);
  box-shadow: var(--ctl-shadow);
  overflow: hidden; /* hübsche Ecken bei Buttons im Block */
}

/* Zoom-Buttons (und allgemein .leaflet-bar Links) */
#map .leaflet-bar a,
#map .leaflet-bar a:hover {
  background: transparent;
  color: var(--fg);
}

#map .leaflet-bar a {
  width: var(--ctl-size);
  height: var(--ctl-size);
  line-height: calc(var(--ctl-size) - 6px);
  font-weight: 700;
  font-size: 18px;
  text-align: center;
  border-bottom: 1px solid var(--ctl-border);
  display: grid;
  place-items: center;
  transition: background .15s ease, color .15s ease, border-color .15s ease, transform .05s ease;
}

#map .leaflet-bar a:last-child { border-bottom: 0; }
#map .leaflet-bar a:hover { background: var(--ctl-hover); color: var(--accent-fg); }
#map .leaflet-bar a:active { transform: translateY(1px); }
#map .leaflet-bar a:focus { outline: var(--focus); outline-offset: 2px; }

/* Layers-Control: Toggle-Button im collapsed state (eigener Icon-Button) */
#map .leaflet-control-layers.leaflet-control {
  padding: 0; /* Außenrand kommt vom Container, innen stylen wir separat */
}

#map .leaflet-control-layers-toggle {
  width: var(--ctl-size);
  height: var(--ctl-size);
  border-radius: var(--ctl-radius);
  background: transparent;
  background-image: none; /* Leaflet-Default-Icon ausblenden */
  position: relative;
}
#map .leaflet-control-layers-toggle::before {
  content: "☰";
  font-size: 18px;
  font-weight: 700;
  color: var(--fg);
  display: grid;
  place-items: center;
  width: 100%; height: 100%;
}
#map .leaflet-control-layers-toggle:hover { background: var(--ctl-hover); }
#map .leaflet-control-layers-toggle:hover::before { color: var(--accent-fg); }
#map .leaflet-control-layers-toggle:focus { outline: var(--focus); outline-offset: 2px; }

/* Layers-Control: aufgeklapptes Panel */
#map .leaflet-control-layers-expanded {
  background: var(--ctl-bg);
  border-radius: var(--ctl-radius);
  border: 1px solid var(--ctl-border);
  box-shadow: var(--ctl-shadow);
  padding: 8px 8px 10px 8px;
}

/* Listen & Labels hübscher */
#map .leaflet-control-layers-list {
  margin: 4px 0 0 0;
  max-height: 280px;
  overflow: auto;
}

#map .leaflet-control-layers-separator { margin: 6px 0; border-top: 1px solid var(--ctl-border); }

#map .leaflet-control-layers label {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 6px;
  border-radius: 8px;
  line-height: 1.2;
  cursor: pointer;
}
#map .leaflet-control-layers label:hover { background: rgba(0,0,0,.04); }
@media (prefers-color-scheme: dark) {
  #map .leaflet-control-layers label:hover { background: rgba(255,255,255,.06); }
}

/* Radio/Checkbox etwas größer + Akzentfarbe */
#map .leaflet-control-layers input[type="radio"],
#map .leaflet-control-layers input[type="checkbox"] {
  width: 16px; height: 16px;
  accent-color: var(--accent);
}

/* Attribution typografisch angleichen */
#map .leaflet-control-attribution {
  background: var(--ctl-bg);
  border: 1px solid var(--ctl-border);
  border-radius: 8px;
  box-shadow: var(--shadow-sm);
  padding: 4px 8px;
  font-size: 12px;
  color: var(--muted);
}

/* Mobile: etwas größere Targets und kompaktere Layer-Liste */
@media (max-width: 640px) {
  :root { --ctl-size: 42px; }
  #map .leaflet-control-layers-list { max-height: 220px; }
}
